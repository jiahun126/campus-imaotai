<p align="center"><a href="https://oddfar.com/" target="_blank" rel="noopener noreferrer"><img width="180" src="https://note.oddfar.com/img/web.png" alt="logo"></a></p>

<p align="center">
  <a href="https://github.com/oddfar/campus-imaotai/stargazers"><img src="https://img.shields.io/github/stars/oddfar/campus-imaotai.svg"></a>
	<a href="https://github.com/oddfar/campus-imaotai/blob/master/LICENSE"><img src="https://img.shields.io/github/license/oddfar/campus-imaotai.svg"></a>
</p>

<p align="center"> i茅台app自动预约，每日自动预约，支持docker一键部署</p>

<h2 align="center">Campus-imaotai</h2>

  [笔记仓库](https://github.com/oddfar/notes)  |  [我的博客](https://oddfar.com)  

## 项目介绍

i茅台app，每日自动预约茅台

- [x] 平台注册账号
- [x] 添加多个用户
- [x] 自动预约
- [x] 类型选择（本市出货量最大的门店，或位置附近门店）
- [x] 自动旅行
- [x] 首次旅行分享
- [x] 获取申购耐力值
- [x] 自定义时间/随机时间预约或旅行
- [x] 申购结果消息推送

此项目使用 **Campus** 进行编写：<https://github.com/oddfar/campus>

## 文档

- 文档：https://oddfar.github.io/campus-doc/campus-imaotai

- 视频：https://www.bilibili.com/video/BV1dj411H7oT


## 演示图



| i茅台预约                                                    |                                                              |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| ![image-20230707144241399](https://gcore.jsdelivr.net/gh/oddfar/campus-imaotai/.github/image-20230707144241399.png) | ![image-20230707144404638](https://gcore.jsdelivr.net/gh/oddfar/campus-imaotai/.github/image-20230707144404638.png) |
|                                                              |                                                              |
| ![image-20230707144703842](https://gcore.jsdelivr.net/gh/oddfar/campus-imaotai/.github/image-20230707144703842.png) | ![image-20230707145525709](https://gcore.jsdelivr.net/gh/oddfar/campus-imaotai/.github/image-20230707145525709.png) |



## 贡献代码

若您有好的想法，发现一些 **BUG** 并修复了，欢迎提交 **Pull Request** 参与开源贡献

发起 pull request 请求，提交到 master 分支，等待作者合并

**感谢为这个项目贡献代码的朋友**

<a href="https://github.com/oddfar/campus-imaotai/graphs/contributors">
<img src="https://contrib.rocks/image?repo=oddfar/campus-imaotai" />
</a>

## star 趋势图

![Stargazers over time](https://starchart.cc/oddfar/campus-imaotai.svg)

## 友情链接

- 本项目其他版

  C#：<https://github.com/lisongkun/hygge-imaotai>

- 葫芦娃项目

  yize8888-maotai：https://github.com/yize8888/maotai

## 声明

- 本项目涉及的数据由使用的个人或组织自行填写，本项目不对数据内容负责，包括但不限于数据的真实性、准确性、合法性。使用本项目所造成的一切后果，与本项目的所有贡献者无关，由使用的个人或组织完全承担。
- 本项目中涉及的第三方硬件、软件等，与本项目没有任何直接或间接的关系。本项目仅对部署和使用过程进行客观描述，不代表支持使用任何第三方硬件、软件。使用任何第三方硬件、软件，所造成的一切后果由使用的个人或组织承担，与本项目无关。
- 本项目中所有内容只供学习和研究使用，不得将本项目中任何内容用于违反国家/地区/组织等的法律法规或相关规定的其他用途。
- 所有基于本项目源代码，进行的任何修改，为其他个人或组织的自发行为，与本项目没有任何直接或间接的关系，所造成的一切后果亦与本项目无关。
- 所有直接或间接使用本项目的个人和组织，应24小时内完成学习和研究，并及时删除本项目中的所有内容。如对本项目的功能有需求，应自行开发相关功能。
- 本项目保留随时对免责声明进行补充或更改的权利，直接或间接使用本项目内容的个人或组织，视为接受本项目的特别声明。

## 鸣谢

> [IntelliJ IDEA](https://zh.wikipedia.org/zh-hans/IntelliJ_IDEA) 是一个在各个方面都最大程度地提高开发人员的生产力的 IDE，适用于 JVM 平台语言。

特别感谢 [JetBrains](https://www.jetbrains.com/?from=campus) 为开源项目提供免费的 [IntelliJ IDEA](https://www.jetbrains.com/idea/?from=campus) 等 IDE 的授权    
[<img src="https://gcore.jsdelivr.net/gh/oddfar/campus-imaotai/.github/jetbrains-variant.png" width="200"/>](https://www.jetbrains.com/?from=campus)





242420130004   公正路
2342010000002  武汉市卓刀泉南路茅台酱香万家共享主题终端
2242013300001  武汉市东湖路贵州茅台酱香系列酒体验中心
142420135001   武汉市中北路贵州茅台专卖店
142420130001   武汉市积玉路贵州茅台专卖店
242420130002   武汉市东湖路贵州茅台专卖店

242420132001   武汉市白沙二路贵州茅台专卖店
142420121002   武汉市汉阳大道贵州茅台专卖店
22420126007009 洪山区丁字桥南路茅台酱香万家共享主题终端
22420126007008  洪山区丁字桥南路茅台酱香万家共享主题终端
22420133003001  洪山街道丁字桥南路茅台酱香万家共享主题终端
242420130005    洪山区梨园街贵州茅台专卖店

-- 获取用户信息
POST /front-manager/api/customer/queryById/token HTTP/1.1
host: gw.huiqunchina.com
content-length: 16
x-hmac-date: Fri, 01 Mar 2024 04:39:45 GMT
datatype: json
user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36 MicroMessenger/7.0.20.1781(0x6700143B) NetType/WIFI MiniProgramEnv/Windows WindowsWechat/WMPF WindowsWechat(0x63090819) XWEB/8555
x-hmac-digest: JtsOLxi21Zl/lAr7iRjRs+vqoMuzlLZEztyqo0Hqlpc=
content-type: application/json
x-hmac-signature: PjY81drR9zs4geTOaooH8cHmJh4ZX7Bz65ZduZtUfwY=
x-hmac-algorithm: hmac-sha256
channel: miniapp
x-access-token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxMDA0MTA1OTU4IiwiaXNzIjoiZ21hbGwtc3RhcnNreSIsImxvZ0lkIjoibnVsbCIsImV4cCI6MTcxNzAzODIwMiwiaWF0IjoxNzA5MjYyMjAyfQ.GLaeWC1miZFE7SZiDCvOWh2oxQLLlAHCOUD4IRq0Mz0
x-hmac-access-key: 92bed99d5e7be7fb8c96ecda53b4dbab
accept: */*
origin: https://hqmall.huiqunchina.com
sec-fetch-site: same-site
sec-fetch-mode: cors
sec-fetch-dest: empty
referer: https://hqmall.huiqunchina.com/
accept-encoding: gzip
accept-language: zh-CN,zh;q=0.9
cookie: _c_WBKFRo=vtQiwMZp6VFKQmlGTLv9o9vSIL0hwWwWQDPifpZZ; aliyungf_tc=e0684ee4475908a766a15483a4d049d4817c034543179c811db3e8547dee6534; acw_tc=ac11000117092673794708604ec886f54a18bb92e333e1a2327a973d4e6b99; JSESSIONID=F2B2A3B4DF14F6D482B035ED4D9E5A93
Connection: close

{"channel":"h5"}
{"traceId":"ac11000117092679869256827ea80f","serverTimeStamp":1709267987073,"code":"10000","data":{"openId":"oK-hU5ByO5YqFrBpVtA2Qlrddmgg","headUrl":"https://huiqun-public.huiqunchina.com/514e19a6-7d8e-48d2-b6c6-e797df9060a9.png","realName":"胡建","b2b":false,"isReadNotice":false,"phone":"13554261783","isRealNameAuth":true,"idcard":"4211***********7319","nickname":"用户1783","custType":4,"phoneIsBind":true,"isModifyAuth":false,"status":"1"},"success":true}

-- 查看活动id
POST /front-manager/api/customer/promotion/channelActivity HTTP/1.1
host: gw.huiqunchina.com
content-length: 2
x-hmac-date: Fri, 01 Mar 2024 04:39:45 GMT
datatype: json
user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36 MicroMessenger/7.0.20.1781(0x6700143B) NetType/WIFI MiniProgramEnv/Windows WindowsWechat/WMPF WindowsWechat(0x63090819) XWEB/8555
x-hmac-digest: ffMkMKL4wUMNoFgfrLW4qO/abWpS3IbCbJKQyKX9f/s=
content-type: application/json
x-hmac-signature: 9Xc6ynwmUbZVE2gwoMuETUjmIxksSDbOVqzA3IFN4Qo=
x-hmac-algorithm: hmac-sha256
channel: miniapp
x-access-token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxMDA0MTA1OTU4IiwiaXNzIjoiZ21hbGwtc3RhcnNreSIsImxvZ0lkIjoibnVsbCIsImV4cCI6MTcxNzAzODIwMiwiaWF0IjoxNzA5MjYyMjAyfQ.GLaeWC1miZFE7SZiDCvOWh2oxQLLlAHCOUD4IRq0Mz0
x-hmac-access-key: 92bed99d5e7be7fb8c96ecda53b4dbab
accept: */*
origin: https://hqmall.huiqunchina.com
sec-fetch-site: same-site
sec-fetch-mode: cors
sec-fetch-dest: empty
referer: https://hqmall.huiqunchina.com/
accept-encoding: gzip
accept-language: zh-CN,zh;q=0.9
cookie: _c_WBKFRo=vtQiwMZp6VFKQmlGTLv9o9vSIL0hwWwWQDPifpZZ; aliyungf_tc=e0684ee4475908a766a15483a4d049d4817c034543179c811db3e8547dee6534; acw_tc=ac11000117092673794708604ec886f54a18bb92e333e1a2327a973d4e6b99; JSESSIONID=F2B2A3B4DF14F6D482B035ED4D9E5A93
Connection: close

{}

{"traceId":"ac11000117092679869935485e2d61","serverTimeStamp":1709267987041,"code":"10000","data":{"appointStartTime":1709136330000,"purchaseEndTime":1709287200000,"sysCurrentTime":"1709267987034","drawTime":1709258400000,"playMode":1,"purchaseStartTime":1709265600000,"winningCertificateUrl":"https://huiqun-private.huiqunchina.com/424e91cb-744f-41f5-b6d2-34b43b44dc2a.pdf","appointCounts":6900,"name":" 第一期0229-0301预约摇号农特产品购买活动","startTime":1709136330000,"id":517,"endTime":1709287200000,"isAppoint":0,"appointEndTime":1709222399000},"success":true}

// 获取葫芦娃是否可申购
POST /front-manager/api/customer/promotion/channelActivity HTTP/1.1
host: gw.huiqunchina.com
content-length: 2
x-hmac-date: Fri, 01 Mar 2024 04:17:30 GMT
datatype: json
user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36 MicroMessenger/7.0.20.1781(0x6700143B) NetType/WIFI MiniProgramEnv/Windows WindowsWechat/WMPF WindowsWechat(0x63090819) XWEB/8555
x-hmac-digest: ffMkMKL4wUMNoFgfrLW4qO/abWpS3IbCbJKQyKX9f/s=
content-type: application/json
x-hmac-signature: ZWXxD2fOKMC5AX8wKV+Xpj8dK1jEGkXCMrzmk/NLblE=
x-hmac-algorithm: hmac-sha256
channel: miniapp
x-access-token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxMDA0MzE5ODQxIiwiaXNzIjoiZ21hbGwtc3RhcnNreSIsImxvZ0lkIjoibnVsbCIsImV4cCI6MTcxNzA0MjY0NiwiaWF0IjoxNzA5MjY2NjQ2fQ.W3wTZUlXUW4q_v2dTjzyIyTmhVslPlyYRa1ZH6tBHa0
x-hmac-access-key: 92bed99d5e7be7fb8c96ecda53b4dbab
accept: */*
origin: https://hqmall.huiqunchina.com
sec-fetch-site: same-site
sec-fetch-mode: cors
sec-fetch-dest: empty
referer: https://hqmall.huiqunchina.com/
accept-encoding: gzip
accept-language: zh-CN,zh;q=0.9
cookie: _c_WBKFRo=vtQiwMZp6VFKQmlGTLv9o9vSIL0hwWwWQDPifpZZ; aliyungf_tc=e0684ee4475908a766a15483a4d049d4817c034543179c811db3e8547dee6534; acw_tc=ac11000117092650583047392eeaab937e9906794d7101631a0e3042dad122; JSESSIONID=E567DCE790AF76E016EDA5E7C2C528F4
Connection: close

{}

{"traceId":"ac11000117092666506196870ee1df","serverTimeStamp":1709266650664,"code":"10000",
"data":{"appointStartTime":1708358700000,"purchaseEndTime":1708509600000,"sysCurrentTime":"1709266650658","drawTime":1708480800000,"playMode":1,"purchaseStartTime":1708488000000,"winningCertificateUrl":"https://huiqun-private.huiqunchina.com/8cfc3cbc-af03-41d6-a494-1dac439b0dfd.pdf","appointCounts":10000,"name":"预约活动","startTime":1708358700000,"id":510,"endTime":1708509600000,"isAppoint":0,"appointEndTime":1708444799000},"success":true}

-- 判断是否已经预约过
POST /front-manager/api/customer/promotion/checkCustomerInQianggou HTTP/1.1
host: gw.huiqunchina.com
content-length: 20
x-hmac-date: Fri, 01 Mar 2024 04:17:30 GMT
datatype: json
user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36 MicroMessenger/7.0.20.1781(0x6700143B) NetType/WIFI MiniProgramEnv/Windows WindowsWechat/WMPF WindowsWechat(0x63090819) XWEB/8555
x-hmac-digest: i9EKJIk6F+YRn0LG1fXvTYVycceHCV0hCnWqHW4Z9C4=
content-type: application/json
x-hmac-signature: bn6Y7no/rED/CxPcUkotrpi+ZeBYlh9MK+c+Voqphho=
x-hmac-algorithm: hmac-sha256
channel: miniapp
x-access-token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxMDA0MzE5ODQxIiwiaXNzIjoiZ21hbGwtc3RhcnNreSIsImxvZ0lkIjoibnVsbCIsImV4cCI6MTcxNzA0MjY0NiwiaWF0IjoxNzA5MjY2NjQ2fQ.W3wTZUlXUW4q_v2dTjzyIyTmhVslPlyYRa1ZH6tBHa0
x-hmac-access-key: 92bed99d5e7be7fb8c96ecda53b4dbab
accept: */*
origin: https://hqmall.huiqunchina.com
sec-fetch-site: same-site
sec-fetch-mode: cors
sec-fetch-dest: empty
referer: https://hqmall.huiqunchina.com/
accept-encoding: gzip
accept-language: zh-CN,zh;q=0.9
cookie: _c_WBKFRo=vtQiwMZp6VFKQmlGTLv9o9vSIL0hwWwWQDPifpZZ; aliyungf_tc=e0684ee4475908a766a15483a4d049d4817c034543179c811db3e8547dee6534; acw_tc=ac11000117092650583047392eeaab937e9906794d7101631a0e3042dad122; JSESSIONID=E567DCE790AF76E016EDA5E7C2C528F4
Connection: close

{"activityId":"215"}

{"traceId":"ac11000117092666509952895e55bc","serverTimeStamp":1709266651036,"code":"10000","data":false,"success":true}



POST /front-manager/api/customer/promotion/getWinningCustomers HTTP/1.1
host: gw.huiqunchina.com
content-length: 18
x-hmac-date: Fri, 01 Mar 2024 04:38:14 GMT
datatype: json
user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36 MicroMessenger/7.0.20.1781(0x6700143B) NetType/WIFI MiniProgramEnv/Windows WindowsWechat/WMPF WindowsWechat(0x63090819) XWEB/8555
x-hmac-digest: e2lbvXJDlvGfRXW6Fl1i/rr3ifDm7HTtIsb0G7NIYng=
content-type: application/json
x-hmac-signature: IqqqutQhXvjFG2M6yJ2udIwUzAmM/wAo6hgFAM8pv6s=
x-hmac-algorithm: hmac-sha256
channel: miniapp
x-access-token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxMDI4OTEzOTcxIiwiaXNzIjoiZ21hbGwtc3RhcnNreSIsImxvZ0lkIjoibnVsbCIsImV4cCI6MTcxNjk0ODk1OSwiaWF0IjoxNzA5MTcyOTU5fQ.f56ajLEY8pokLvUGm1K2ZCKT5YqdgAfYK1_v81o0zcA
x-hmac-access-key: 92bed99d5e7be7fb8c96ecda53b4dbab
accept: */*
origin: https://hqmall.huiqunchina.com
sec-fetch-site: same-site
sec-fetch-mode: cors
sec-fetch-dest: empty
referer: https://hqmall.huiqunchina.com/
accept-encoding: gzip
accept-language: zh-CN,zh;q=0.9
cookie: _c_WBKFRo=vtQiwMZp6VFKQmlGTLv9o9vSIL0hwWwWQDPifpZZ; aliyungf_tc=e0684ee4475908a766a15483a4d049d4817c034543179c811db3e8547dee6534; acw_tc=ac11000117092673794708604ec886f54a18bb92e333e1a2327a973d4e6b99; JSESSIONID=F2B2A3B4DF14F6D482B035ED4D9E5A93
Connection: close

{"activityId":515}

{"traceId":"ac11000117092678951583421e2f80","serverTimeStamp":1709267895303,"code":"10000","data":false,"success":true,"message":"预约失败！"}